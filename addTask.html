<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="src/css/animation.css">
    <link rel="stylesheet" href="src/css/popUp.css">
    <link rel="stylesheet" href="src/css/fonts.css">
    <link rel="stylesheet" href="src/css/navbar-header.css">
    <link rel="stylesheet" href="src/css/addTask.css">
    <link rel="stylesheet" href="src/css/style.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/pikaday/css/pikaday.css">

    <script src="src/js/saveAndLoad.js"></script>
    <script src="src/js/templates.js"></script>
    <script src="src/js/animation.js"></script>
    <script src="src/js/addTask-prio.js"></script>
    <script src="src/js/addTask-categorys.js"></script>
    <script src="src/js/addTask-subtask.js"></script>
    <script src="src/js/addTask-contacts.js"></script>
    <script src="src/js/contacts.js"></script>
    <script src="src/js/addTask.js"></script>
    <script src="src/js/board-addTask.js"></script>
    <title>Join</title>
</head>

<body onclick="closeHeadMenu(), hideEditContainer(), hideCategoryContainer(), closeContactsContainer()">
    <div id="header" class="header">
        <span class="header-span">Kanban Project Management Tool</span>
        <img class="header-logo" src="src/img/join-logo.svg" alt="head-logo">
        <div class="header-elements">
            <img class="header-questMark" src="src/img/helpIcon.svg" alt="questionMarker">
            <div onclick="openHeaderMenu(event)" id="headerUserCircle" class="header-userCircle">AB</div>
        </div>
    </div>

    <div id="navBar" class="navBar">
        <img id="navBarLogo" src="src/img/join.logo-white.svg" alt="join-logo">
        <div class="nav-elements">
            <a id="summaryNavButton" href="./summary.html" class="nav-button"><img id="summaryIcon" class="nav-icons"
                    src="src/img/SummaryIcon.svg" alt="nav-icon">Summary
            </a>
            <a id="addTaskNavButton" href="./addTask.html" class="nav-button"><img id="addTaskNavIcon" class="nav-icons"
                    src="src/img/add.task.icons.svg" alt="nav-icon">Add Task
            </a>
            <a id="boardNavButton" href="./board.html" class="nav-button"><img id="boardNavIcon" class="nav-icons"
                    src="src/img/board-icon.svg" alt="nav-icon">Board
            </a>
            <a id="contactsNavButton" href="./contacts.html" class="nav-button"><img id="contactsNavIcon"
                    class="nav-icons" src="src/img/contacts-icon.svg" alt="nav-icon">Contacts
            </a>
        </div>

        <div class="nav-footer">
            <a href="./privacy-police.html" class="navbar-footer-span">Privacy Policy</a>
            <a href="./legalNotice.html" class="navbar-footer-span">Legal notice</a>
        </div>

    </div>

    <div id="userOptions" onclick="doNotClose(event)" class="user-options d-none">
        <a href="./legalNotice.html" class="userOptionsSpan">Legal Notice</a>
        <a href="./privacy-police.html" class="userOptionsSpan">Privacy Policy</a>
        <a href="./help.html" class="userOptionsSpan">Help</a>
        <a href="./index.html" class="userOptionsSpan">Log out</a>
    </div>

    <div id="contentId" class="content-addTask">

        <div class="head-section">
            <h2>Add Task</h2>
        </div>

        <div class="addTaskContent">
            <div class="boxLeft">
                <span class="addTaskSpan">Title<span class="star-red">*</span></span>
                <div class="addTask-input-container">
                    <input id="addTitel" required type="text" placeholder="Enter a title" maxlength="80" minlength="4">
                </div>

                <div class="gapContainer"></div>

                <span class="addTaskSpan">Description</span>
                <textarea id="addDescription" placeholder="Enter a Description" name="description" cols="30" rows="10">
                </textarea>

                <div class="gapContainer"></div>

                <span class="addTaskSpan">Assigned to</span>
                <div onclick="openContactsContainer(), doNotClose(event)" id="addTaskContactsInputBox"
                    class="addTask-input-container" style="z-index: 0;">
                    <input id="addTaskContactsInput" readonly type="text" value="Select contacts to assign">
                    <img class="greyHoverIcon addTask-input-icon" src="src/img/arrow_drop_downaa.svg"
                        alt="arrow-down-icon">
                </div>
                <div id="selectedContactsContainer" class="selected-contacts-container">
                    <div style="background: red;" class="userCircle">ab</div>
                </div>
                <div onclick="doNotClose(event)" id="contactsCollectionContainer" class="contacts-container d-none">
                    <div style="width: 100%;" id="contactsContent">
                        <div class="addTask-contact-row">
                            <div style="display: flex; justify-content: flex-start; align-items: center; gap: 20px;">
                                <div style="background: red;" class="userCircle">ab</div>
                                <span class="contacts-container-row-span">name name</span>
                            </div>
                            <img src="src/img/addTaskBox.svg" alt="">
                        </div>
                    </div>
                    <button class="addContacts-button">Add new contact</button>
                </div>
            </div>

            <div class="gapContainer1200"></div>

            <div class="boxRight">
                <span class="addTaskSpan">Due date<span class="star-red">*</span></span>
                <div class="addTask-input-container">
                    <input required placeholder="dd/mm/yyyy" type="text" id="datepicker">
                    <img src="src/img/kalenderJoin.svg" alt="date-icon">
                </div>

                <div class="gapContainer"></div>

                <span class="addTaskSpan">Prio</span>
                <div class="prioContainer">
                    <div onclick="urgentButtonClick()" id="urgentButton" class="prioButton">Urgent<img id="urgentImg"
                            src="src/img/prioUrgent.svg" alt="urgent-icon"></div>
                    <div onclick="mediumButtonClick()" id="mediumButton" class="prioButton">Medium<img id="mediumImg"
                            src="src/img/prioMedium.svg" alt="medium-icon"></div>
                    <div onclick="lowButtonClick()" id="lowButton" class="prioButton">Low<img id="lowImg"
                            src="src/img/prioLow.svg" alt="low-icon">
                    </div>
                </div>

                <div class="gapContainer"></div>

                <span class="addTaskSpan">Category<span class="star-red">*</span></span>
                <div onclick="showCategoryContainer(), doNotClose(event)" style="z-index: 1;"
                    class="addTask-input-container">
                    <input id="categoryInput" readonly type="text" value="Select task category">
                    <img onclick="hideCategoryContainer()" class="addTask-input-icon greyHoverIcon"
                        src="src/img/arrow_drop_downaa.svg" alt="arrow-down-icon">
                </div>
                <div onclick="doNotClose(event)" id="categoryContainer" style="z-index: 0;"
                    class="category-container d-none">
                    <div id="categoryContent">
                    </div>
                    <button onclick="showCategoryPopUp()" class="addCategory-button">Add new category</button>
                </div>

                <div class="gapContainer"></div>

                <span class="addTaskSpan">Subtasks</span>
                <div class="addTask-input-container">
                    <input id="subtaskInput" type="text" placeholder="Add new subtask">
                    <img class="greyHoverIcon" onclick="addSubTask()" src="src/img/plusAddTask.svg" alt="plus-icon">
                </div>
                <div onclick="doNotClose(event)" id="subtasksContainer">
                </div>
                <div id="subtaskEditContainer" onclick="doNotClose(event)" class="d-none">
                    <input id="editSubtaskInput" max="20" type="text" placeholder="">
                    <div style="display: flex; gap: 5px;">
                        <img class="greyHoverIcon" onclick="hideEditContainer()" src="src/img/close.svg">
                        <div class="seperator"></div>
                        <img class="greyHoverIcon" style="padding-left: 3px; padding-right: 3px;"
                            onclick="editSubtask()" src="src/img/SubtasksCheck.svg">
                    </div>
                </div>
            </div>
        </div>
        <div class="addTask-buttonArea">
            <span class="addTask-requiredSpan"><span class="star-red">*</span>This field is required</span>
            <div class="addTask-button-container">
                <div onmouseover="changeImage('clearButton', 'src/img/crossBlue.png')"
                    onmouseout="restoreImage('clearButton', 'src/img/crossAddTask.svg')" class="clear-button">Clear <img
                        id="clearButton" style="width: 24px; height: 24px;" src="src/img/crossAddTask.svg"
                        alt="cross-icon"></div>
                <div class="createTask-button button-hover">Create Task <img src="src/img/check.svg" alt="check-icon">
                </div>
            </div>
        </div>
    </div>

    <div id="categoryPopUp" class="pop-background d-none">
        <div class="pop-position">
            <img onclick="closeCategoryPopUp()" class="blue-cross greyHoverIcon" src="src/img/iconoir_cancel.svg"
                alt="">
            <img onclick="closeCategoryPopUp()" class="grey-cross greyHoverIcon" src="src/img/closeGrey.svg" alt="">

            <div class="pop-head-box">
                <img class="pop-logo" style="width: 55px; height: 55px;" src="src/img/join.logo-white.svg"
                    alt="join-logo">
                <span class="pop-headline">Add category</span>
                <span class="pop-slogen">Create your own category!</span>
                <div class="pop-vector"></div>
            </div>

            <div class="pop-icon-box">
                <div class="pop-person-background"><img class="pop-person-png" src="src/img/addTaskCategory.svg"
                        alt="person-icon"></div>
            </div>

            <div class="pop-input-box">

                <div class="input-pop-container" id="newCategoryNameContainer">
                    <input style="width: 100%;" id="newCategoryName" type="text" placeholder="New category"
                        id="contactUserName">
                </div>
                <span id="warnCategoryInput" style="text-align: center;" class="warningByInput d-none">
                    Please enter a category name and choose a color.
                </span>

                <div id="colorSettingBox"></div>

                <div class="pop-button-box">
                    <div onclick="stopCreateCategory()" class="pop-button-cancel">Cancel</div>
                    <div onclick="confirmCreateCategory()" class="pop-button-create">Create category</div>
                </div>
            </div>
        </div>
    </div>

    <div id="contactsPopUp" class="pop-background d-none">
        <div class="pop-position">
            <img onclick="closeContactsPopUP()" class="blue-cross greyHoverIcon" src="src/img/iconoir_cancel.svg"
                alt="">
            <img onclick="closeContactsPopUP()" class="grey-cross greyHoverIcon" src="src/img/closeGrey.svg" alt="">

            <div class="pop-head-box">
                <img class="pop-logo" style="width: 55px; height: 55px;" src="src/img/join.logo-white.svg"
                    alt="join-logo">
                <span class="pop-headline">Add contact</span>
                <span class="pop-slogen">Tasks are better with a team!</span>
                <div class="pop-vector"></div>
            </div>

            <div class="pop-icon-box">
                <div class="pop-person-background"><img class="pop-person-png" src="src/img/person.svg"
                        alt="person-icon">
                </div>
            </div>

            <form onsubmit="createContactByPopup(); return false;" style="display: flex; align-self: stretch; flex: 2;">
                <div class="pop-input-box">
                    <div class="input-pop-container" id="contactUserNameBox">
                        <input required type="text" minlength="4" placeholder="Name" id="contactUserName">
                        <img class="input-icon" src="src/img/input-person.svg" alt="person-icon">
                    </div>

                    <div class="input-pop-container" id="contactEmailBox">
                        <input required type="email" minlength="4" placeholder="Email" id="contactEmail">
                        <img class="input-icon" src="src/img/input-mail.svg" alt="email-icon">
                    </div>

                    <div class="input-pop-container" id="contactPhoneBox">
                        <input required type="tel" minlength="4" placeholder="Phone" id="contactPhone">
                        <img class="input-icon" src="src/img/call.svg" alt="phone-icon">
                    </div>

                    <div class="pop-button-box">
                        <div class="pop-button-cancel">Cancel</div>
                        <div class="pop-button-create">Create contact</div>
                    </div>
            </form>
        </div>
    </div>





    <script src="https://cdn.jsdelivr.net/npm/pikaday/pikaday.js"></script>
</body>

</html>